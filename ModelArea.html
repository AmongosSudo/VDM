<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Functional Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style type="text/tailwindcss">
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f7f8fa; /* Slightly off-white background */
        }
        .icon {
            font-family: 'Material Icons';
        }
        /* Styles for the date range dropdown */
        #date-range-card {
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
            transform-origin: top right;
        }
        /* Style to make native date picker icon visible */
        input[type="date"]::-webkit-calendar-picker-indicator {
            background: transparent;
            bottom: 0;
            color: transparent;
            cursor: pointer;
            height: auto;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            width: auto;
        }
        /* Sidebar transition */
        aside, main {
            transition: all 0.3s ease-in-out;
        }
        /* Chatbot Styles */
        #lubna-page {
            --primary-color: #FFE500;
            --background-color: #ffffff; /* Brighter white for the card */
            --text-primary: #1C1C1C;
            --text-secondary: #7A7A7A;
            --input-bg: #f7f8fa; /* Match page background */
            --input-placeholder: #A0A0A0;
        }
        .lubna-font {
             font-family: 'Space Grotesk', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(90deg, #FBBF24, #F59E0B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom file input styling */
        .file-input-label {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .file-input-label:hover {
            background-color: #f3f4f6;
            border-color: #FBBF24;
        }
        /* Add model form card animation */
        #add-model-form-card {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 0;
            overflow: hidden;
        }
        /* Model Details Modal Animation */
        #model-details-modal {
            transition: opacity 0.3s ease-in-out;
        }
        #model-details-modal .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-20 hover:w-56 bg-white shadow-lg flex flex-col py-4 fixed h-full group z-20">
            <!-- Logo -->
            <div class="h-16 flex items-center justify-center mb-4 px-4">
                 <svg class="h-10 w-10 text-yellow-500" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8.29 15.71c.39.39 1.02.39 1.41 0L12 13.41l2.29 2.3c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l2.3-2.29c.39-.39.39-1.02 0-1.41s-1.02-.39-1.41 0L12 10.59 9.7 8.3c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41L10.59 12l-2.3 2.29c-.39.39-.39 1.03 0 1.42z"/>
                </svg>
                <span class="text-xl font-bold text-gray-800 hidden group-hover:inline ml-2">ModelArea</span>
            </div>
            <!-- Navigation -->
            <nav class="flex flex-col space-y-2 flex-grow px-4 justify-center">
                <a href="#" class="nav-link flex items-center p-3 bg-yellow-400 text-white rounded-lg" data-target="dashboard-page">
                    <span class="material-icons">dashboard</span>
                    <span class="ml-4 text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-200">DashBoard</span>
                </a>
                <a href="#" class="nav-link flex items-center p-3 text-gray-500 hover:bg-gray-100 rounded-lg" data-target="lubna-page">
                    <span class="material-icons">smart_toy</span>
                    <span class="ml-4 text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-200">Lubna</span>
                </a>
                <a href="#" class="nav-link flex items-center p-3 text-gray-500 hover:bg-gray-100 rounded-lg" data-target="add-model-page">
                    <span class="material-icons">add_box</span>
                     <span class="ml-4 text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-200">Add Model</span>
                </a>
            </nav>
            <!-- User Profile & Logout -->
            <div class="px-4">
                 <div class="flex items-center w-full p-3 rounded-lg">
                    <div class="w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center text-white font-bold shrink-0">A</div>
                    <div class="ml-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                        <p class="text-sm font-bold text-gray-800">Admin</p>
                    </div>
                </div>
                <a class="flex items-center w-full p-3 text-gray-500 hover:bg-gray-100 rounded-lg" href="#">
                    <span class="material-icons">logout</span>
                    <span class="ml-4 text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-200">Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="flex-1 ml-20 overflow-y-auto bg-gray-100">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page-content p-8">
                <header class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-800">Dashboard</h1>
                        <p class="text-gray-500">Overview of key metrics and performance indicators</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Date Range Selector Button and Card -->
                        <div class="relative">
                            <button id="date-range-btn" class="flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                                <span class="material-icons text-gray-500">filter_list</span>
                                <span id="date-range-text" class="text-gray-700">Last 7 Days</span>
                            </button>
                            <!-- Dropdown Card -->
                            <div id="date-range-card" class="absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl p-4 z-10 hidden opacity-0 transform scale-95">
                                <h3 class="text-sm font-semibold text-gray-800 mb-3">Quick Ranges</h3>
                                <div class="grid grid-cols-2 gap-2 mb-4">
                                    <button class="date-range-option px-3 py-2 text-sm text-center bg-yellow-400 text-white rounded-md hover:bg-yellow-500">Last 7 Days</button>
                                    <button class="date-range-option px-3 py-2 text-sm text-center bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">Last 30 Days</button>
                                    <button class="date-range-option px-3 py-2 text-sm text-center bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">Last Year</button>
                                    <button class="date-range-option px-3 py-2 text-sm text-center bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200">All Time</button>
                                </div>
                                <h3 class="text-sm font-semibold text-gray-800 mb-3">Custom Range</h3>
                                <div class="space-y-3">
                                    <div class="relative flex items-center">
                                        <label for="from-date" class="text-sm text-gray-600 w-12">From:</label>
                                        <input type="date" id="from-date" class="w-full text-sm border-gray-300 rounded-md shadow-sm p-2 focus:ring-yellow-400 focus:border-yellow-400">
                                    </div>
                                    <div class="relative flex items-center">
                                        <label for="to-date" class="text-sm text-gray-600 w-12">To:</label>
                                        <input type="date" id="to-date" class="w-full text-sm border-gray-300 rounded-md shadow-sm p-2 focus:ring-yellow-400 focus:border-yellow-400">
                                    </div>
                                </div>
                                <button id="apply-date-range" class="mt-4 w-full bg-yellow-400 text-white font-semibold py-2 rounded-lg hover:bg-yellow-500">Apply</button>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                     <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between h-40">
                        <div>
                            <p class="text-gray-500 text-sm">Revenue</p>
                            <p class="text-3xl font-bold text-gray-800">$93,000</p>
                        </div>
                        <div class="bg-yellow-100 p-4 rounded-full">
                            <span class="material-icons text-yellow-500">attach_money</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between h-40">
                        <div>
                            <p class="text-gray-500 text-sm">Profit</p>
                            <p class="text-3xl font-bold text-gray-800">$12,500</p>
                        </div>
                        <div class="bg-blue-100 p-4 rounded-full">
                            <span class="material-icons text-blue-500">trending_up</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between h-40">
                        <div>
                            <p class="text-gray-500 text-sm">Total Models</p>
                            <p class="text-3xl font-bold text-gray-800">15</p>
                        </div>
                        <div class="bg-green-100 p-4 rounded-full">
                            <span class="material-icons text-green-500">model_training</span>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between h-40">
                        <div>
                            <p class="text-gray-500 text-sm">Daily Visitors</p>
                            <p class="text-3xl font-bold text-gray-800">1,204</p>
                        </div>
                        <div class="bg-purple-100 p-4 rounded-full">
                            <span class="material-icons text-purple-500">people</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <h2 id="chart-title" class="text-xl font-bold text-gray-800">Revenue</h2>
                            <div>
                                <select id="chartTypeSelector" class="rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring focus:ring-yellow-200 focus:ring-opacity-50">
                                    <option value="" disabled selected>Chart Type</option>
                                    <option value="revenue">Revenue</option>
                                    <option value="profit">Profit</option>
                                </select>
                            </div>
                        </div>
                        <div class="h-80">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">Logs</h2>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <span class="material-icons text-gray-400 mt-1 mr-3">history</span>
                                <div>
                                    <p class="text-gray-800 font-medium">New job #1234 created</p>
                                    <p class="text-gray-500 text-sm">10 minutes ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lubna Page (Hidden by default) -->
            <div id="lubna-page" class="page-content hidden p-8 h-full">
                <div class="w-full h-full bg-[var(--background-color)] rounded-2xl shadow-lg flex flex-col">
                    <div class="flex-grow flex flex-col items-center justify-center text-center px-4 lubna-font">
                        <h1 class="gradient-text text-5xl md:text-7xl font-bold mb-2 py-2">
                            Find your model!
                        </h1>
                        <p class="text-[var(--text-secondary)] text-lg md:text-xl">
                            Explain the model to Lubna.
                        </p>
                    </div>
                    <footer class="w-full p-4 md:p-6 lg:p-8">
                        <div class="max-w-3xl mx-auto">
                            <div class="relative">
                                <input class="w-full py-4 pl-6 pr-16 rounded-full bg-[var(--input-bg)] text-[var(--text-primary)] placeholder-[var(--input-placeholder)] border-2 border-gray-200 focus:outline-none focus:ring-4 focus:ring-[var(--primary-color)]/50 transition-all duration-300 ease-in-out shadow-lg" placeholder="Type your message here..." type="text" />
                                <button class="absolute inset-y-0 right-0 flex items-center justify-center w-12 h-12 rounded-full bg-[var(--primary-color)] text-[var(--text-primary)] m-2 hover:bg-yellow-500 transition-colors duration-300">
                                    <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M12 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </footer>
                </div>
            </div>

            <!-- Add Model Page (Hidden by default) -->
            <div id="add-model-page" class="page-content hidden p-8">
                <header class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold text-gray-800">Models</h1>
                    <button id="show-form-btn" class="px-5 py-2 bg-yellow-400 text-white font-bold rounded-lg hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 transition-all flex items-center space-x-2">
                        <span class="material-icons">add</span>
                        <span>Add New Model</span>
                    </button>
                </header>

                <!-- Form Card (hidden by default) -->
                <div id="add-model-form-card" class="opacity-0">
                    <div class="bg-white rounded-2xl shadow-xl p-8 mt-6">
                         <form id="model-form" class="space-y-8">
                            <input type="hidden" name="modelId" value="">
                            <!-- Basic Information Section -->
                            <div class="p-6 border border-gray-200 rounded-xl">
                                <h2 class="text-xl font-semibold text-gray-700 mb-4">Basic Information</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <input type="text" name="fullName" placeholder="Full Name" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="text" name="nationality" placeholder="Nationality" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="tel" name="phone" placeholder="Phone Number" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="email" name="email" placeholder="Email Address" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="text" name="location" placeholder="Location (City or Emirate)" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                     <input type="number" name="height" placeholder="Height (cm)" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                </div>
                            </div>
                            
                            <!-- Media Section -->
                            <div class="p-6 border border-gray-200 rounded-xl">
                                <h2 class="text-xl font-semibold text-gray-700 mb-4">Media & Portfolio</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-600 mb-1">Profile Photo</label>
                                        <label class="file-input-label">
                                            <span class="material-icons text-gray-400">add_a_photo</span>
                                            <span class="ml-2 text-gray-500">Upload Profile Photo</span>
                                        </label>
                                        <input type="file" name="profilePhoto" class="hidden" accept="image/*">
                                    </div>
                                     <div>
                                        <label class="block text-sm font-medium text-gray-600 mb-1">Gallery Photos</label>
                                        <label class="file-input-label">
                                            <span class="material-icons text-gray-400">photo_library</span>
                                            <span class="ml-2 text-gray-500">Upload Gallery Images</span>
                                        </label>
                                        <input type="file" class="hidden" accept="image/*" multiple>
                                    </div>
                                     <div>
                                        <label class="block text-sm font-medium text-gray-600 mb-1">Videos</label>
                                        <label class="file-input-label">
                                            <span class="material-icons text-gray-400">video_library</span>
                                            <span class="ml-2 text-gray-500">Upload Videos</span>
                                        </label>
                                        <input type="file" class="hidden" accept="video/*" multiple>
                                    </div>
                                     <input type="url" name="portfolioLink" placeholder="Instagram or Portfolio Link" class="self-end w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                </div>
                            </div>

                            <!-- Professional Details Section -->
                             <div class="p-6 border border-gray-200 rounded-xl">
                                <h2 class="text-xl font-semibold text-gray-700 mb-4">Professional Details</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <input type="text" name="languages" placeholder="Languages Spoken" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <select name="experience" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                        <option disabled selected>Experience Level</option>
                                        <option>Beginner</option>
                                        <option>Intermediate</option>
                                        <option>Pro</option>
                                    </select>
                                    <div class="md:col-span-2">
                                        <label class="block text-sm font-medium text-gray-600 mb-2">Willing to Wear</label>
                                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Traditional</span></label>
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Casual</span></label>
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Glamour</span></label>
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Swimwear</span></label>
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Lingerie</span></label>
                                            <label class="flex items-center space-x-2"><input type="checkbox" class="rounded text-yellow-500 focus:ring-yellow-200"><span>Sportswear</span></label>
                                        </div>
                                    </div>
                                    <textarea name="clients" placeholder="Previous Clients / Campaigns" rows="4" class="md:col-span-2 w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200"></textarea>
                                </div>
                            </div>

                            <!-- Internal & Financial Section -->
                            <div class="p-6 border border-gray-200 rounded-xl">
                                <h2 class="text-xl font-semibold text-gray-700 mb-4">Internal & Financial Details</h2>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <input type="number" name="rate" placeholder="Rate per Project / Day ($)" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="number" name="commission" placeholder="Commission Split %" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <input type="text" name="iban" placeholder="IBAN Number" class="w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200">
                                    <textarea name="notes" placeholder="Notes / Comments (for internal use)" rows="4" class="md:col-span-3 w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-400 focus:ring-yellow-200"></textarea>
                                </div>
                            </div>

                            <!-- Action Button -->
                            <div class="flex justify-end pt-4 space-x-4">
                                <button type="button" id="cancel-add-model" class="px-8 py-3 bg-gray-200 text-gray-800 font-bold rounded-lg hover:bg-gray-300 transition-all">
                                    Cancel
                                </button>
                                <button type="submit" id="submit-model-btn" class="px-8 py-3 bg-yellow-400 text-white font-bold rounded-lg hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 transition-all">
                                    Add Model
                                </button>
                            </div>
                         </form>
                    </div>
                </div>

                <!-- Model Cards Container -->
                <div id="model-cards-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <div class="bg-white rounded-xl shadow-md overflow-hidden model-card" data-model-id="model-1" data-model-info='{"id":"model-1","fullName":"Eleonora","phoneNumber":"+971 50 123 4567","email":"eleonora@example.com","nationality":"Italian","languages":"Italian, English","location":"Dubai","height":"175","experience":"Intermediate","clients":"Vogue Arabia, Chanel","portfolio":"https://instagram.com/eleonora","profilePhotoUrl":"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=2561&auto=format&fit=crop","willingToWear":["Traditional","Casual","Glamour"],"rate":"1500","commission":"20","iban":"AE070331234567890123456","notes":"Very professional and punctual."}'>
                        <div class="relative">
                            <img class="h-64 w-full object-cover" src="https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=2561&auto=format&fit=crop" alt="Model Eleonora">
                            
                        </div>
                        <div class="p-4 cursor-pointer view-details-btn">
                            <h4 class="text-lg font-bold pointer-events-none">Eleonora</h4>
                            <p class="text-sm text-gray-500 pointer-events-none">Intermediate</p>
                        </div>
                    </div>
                    <!-- New cards will be added here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Model Details Modal -->
    <div id="model-details-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-30 hidden opacity-0">
        <div class="modal-content bg-white w-full max-w-4xl max-h-[90vh] flex rounded-2xl shadow-2xl transform scale-95">
             <!-- Left Side: Image -->
            <div class="w-1/3">
                <img id="detail-photo" src="https://placehold.co/800x1200/e2e8f0/333?text=Model" class="w-full h-full object-cover rounded-l-2xl">
            </div>
            <!-- Right Side: Info -->
            <div class="w-2/3 text-gray-800 p-10 overflow-y-auto">
                 <button id="close-details-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800">
                    <span class="material-icons text-3xl">close</span>
                </button>
                <h2 id="detail-name" class="text-4xl font-bold mb-1">Jessica Williams</h2>
                <p id="detail-location" class="text-lg text-gray-500 mb-6">Dubai, UAE</p>

                <div class="space-y-6">
                    <div>
                        <h4 class="text-md font-semibold text-gray-500 uppercase tracking-wider">Contact</h4>
                        <p id="detail-email" class="text-xl mt-1"></p>
                        <p id="detail-phone" class="text-xl"></p>
                    </div>
                     <div>
                        <h4 class="text-md font-semibold text-gray-500 uppercase tracking-wider">Profile</h4>
                        <p id="detail-nationality" class="text-xl mt-1"></p>
                        <p id="detail-experience" class="text-xl"></p>
                        <p id="detail-height" class="text-xl"></p>
                        <p id="detail-languages" class="text-xl"></p>
                    </div>
                     <div>
                        <h4 class="text-md font-semibold text-gray-500 uppercase tracking-wider">Portfolio</h4>
                        <a id="detail-portfolio" href="#" class="text-xl text-blue-500 hover:underline" target="_blank"></a>
                    </div>
                    <div>
                        <h4 class="text-md font-semibold text-gray-500 uppercase tracking-wider">Previous Clients</h4>
                        <p id="detail-clients" class="text-xl mt-1"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Sidebar Logic ---
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            
            sidebar.addEventListener('mouseenter', () => {
                mainContent.style.marginLeft = '14rem';
            });
            
            sidebar.addEventListener('mouseleave', () => {
                mainContent.style.marginLeft = '5rem';
            });

            // --- Tab Switching Logic ---
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');

            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const targetId = link.getAttribute('data-target');
                    
                    pages.forEach(page => {
                        page.classList.add('hidden');
                    });

                    const targetPage = document.getElementById(targetId);
                    if (targetPage) {
                        targetPage.classList.remove('hidden');
                    }

                    navLinks.forEach(navLink => {
                        navLink.classList.remove('bg-yellow-400', 'text-white');
                        navLink.classList.add('text-gray-500', 'hover:bg-gray-100');
                    });
                    link.classList.add('bg-yellow-400', 'text-white');
                    link.classList.remove('text-gray-500', 'hover:bg-gray-100');
                });
            });

            // --- Add Model Form Card Logic ---
            const showFormBtn = document.getElementById('show-form-btn');
            const formCard = document.getElementById('add-model-form-card');
            const cancelBtn = document.getElementById('cancel-add-model');
            const modelForm = document.getElementById('model-form');
            const modelCardsContainer = document.getElementById('model-cards-container');
            const submitBtn = document.getElementById('submit-model-btn');

            let editingItem = null;

            function openFormCard() {
                if(formCard.style.maxHeight === '0px' || formCard.style.maxHeight === '') {
                    formCard.style.maxHeight = formCard.scrollHeight + "px";
                    formCard.style.opacity = '1';
                    formCard.style.marginTop = '1.5rem';
                }
            }
            
            function closeFormCard() {
                formCard.style.maxHeight = '0';
                formCard.style.opacity = '0';
                formCard.style.marginTop = '0';
                modelForm.reset();
                submitBtn.textContent = 'Add Model';
                editingItem = null;
            }
            
            if(showFormBtn) {
                showFormBtn.addEventListener('click', openFormCard);
            }
            if(cancelBtn) {
                cancelBtn.addEventListener('click', closeFormCard);
            }
            
            if(modelForm) {
                modelForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const formData = new FormData(modelForm);
                    const modelData = Object.fromEntries(formData.entries());
                    
                    const photoFile = formData.get('profilePhoto');
                    if (photoFile && photoFile.size > 0) {
                        modelData.photoUrl = URL.createObjectURL(photoFile);
                    }

                    if (editingItem) {
                        // Update existing item
                        editingItem.querySelector('.model-name').textContent = modelData.fullName || 'N/A';
                        editingItem.querySelector('.model-experience').textContent = modelData.experience || 'N/A';
                        
                        const photoEl = editingItem.querySelector('.model-photo');
                        if (modelData.photoUrl && photoEl) {
                           photoEl.src = modelData.photoUrl;
                        }
                        
                        const oldData = JSON.parse(editingItem.dataset.modelData || '{}');
                        const newData = {...oldData, ...modelData};
                        editingItem.dataset.modelData = JSON.stringify(newData);

                    } else {
                        // Add new item
                        const newCard = document.createElement('div');
                        newCard.className = "bg-white rounded-lg shadow-md overflow-hidden model-card cursor-pointer";
                        newCard.dataset.modelData = JSON.stringify(modelData);

                        const photoSrc = modelData.photoUrl || `https://placehold.co/400x500/e2e8f0/333?text=${encodeURIComponent(modelData.fullName || 'Model')}`;

                        newCard.innerHTML = `
                            <img class="w-full h-auto object-cover model-photo" src="${photoSrc}" alt="Photo of ${modelData.fullName || 'Model'}">
                            <div class="p-4">
                                <h3 class="font-bold text-lg text-gray-800 model-name">${modelData.fullName || 'New Model'}</h3>
                                <p class="text-md text-gray-600 model-experience">${modelData.experience || 'N/A'}</p>
                            </div>
                            <div class="p-3 bg-gray-50 flex justify-end space-x-2">
                                 <a href="#" class="edit-btn flex items-center justify-center w-10 h-10 bg-gray-200 text-gray-600 rounded-lg hover:bg-blue-500 hover:text-white transition-colors">
                                    <span class="material-icons text-xl">edit</span>
                                </a>
                                <a href="#" class="delete-btn flex items-center justify-center w-10 h-10 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                                    <span class="material-icons text-xl">delete</span>
                                </a>
                            </div>
                        `;
                        modelCardsContainer.prepend(newCard);
                    }
                    
                    closeFormCard();
                });
            }

            // --- Model Details Modal Logic ---
            const detailsModal = document.getElementById('model-details-modal');
            const closeDetailsBtn = document.getElementById('close-details-modal-btn');
            const detailsModalContent = detailsModal.querySelector('.modal-content');

            function showDetailsModal(card) {
                const data = JSON.parse(card.dataset.modelData || '{}');
                
                document.getElementById('detail-photo').src = card.querySelector('.model-photo') ? card.querySelector('.model-photo').src : 'https://placehold.co/800x1200/e2e8f0/333?text=Model';
                document.getElementById('detail-name').textContent = data.fullName || 'N/A';
                document.getElementById('detail-location').textContent = data.location || 'N/A';
                document.getElementById('detail-email').textContent = data.email || 'N/A';
                document.getElementById('detail-phone').textContent = data.phone || 'N/A';
                document.getElementById('detail-nationality').textContent = data.nationality || 'N/A';
                document.getElementById('detail-experience').textContent = data.experience || 'N/A';
                document.getElementById('detail-height').textContent = data.height ? `${data.height} cm` : 'N/A';
                document.getElementById('detail-languages').textContent = data.languages || 'N/A';
                document.getElementById('detail-clients').textContent = data.clients || 'N/A';
                const portfolioLink = document.getElementById('detail-portfolio');
                portfolioLink.href = data.portfolioLink || '#';
                portfolioLink.textContent = data.portfolioLink || 'Not available';

                
                detailsModal.classList.remove('hidden');
                setTimeout(() => {
                    detailsModal.classList.remove('opacity-0');
                    detailsModalContent.classList.remove('scale-95');
                }, 10);
            }

            function hideDetailsModal() {
                 detailsModal.classList.add('opacity-0');
                 detailsModalContent.classList.add('scale-95');
                setTimeout(() => {
                    detailsModal.classList.add('hidden');
                }, 300);
            }
            
            modelCardsContainer.addEventListener('click', function(e) {
                const card = e.target.closest('.model-card');
                const actionButton = e.target.closest('a');

                if (actionButton) {
                    e.preventDefault();
                    if (actionButton.classList.contains('delete-btn')) {
                        card.remove();
                    } else if (actionButton.classList.contains('edit-btn')) {
                        editingItem = card;
                        const data = JSON.parse(card.dataset.modelData || '{}');
                        
                        // Populate form with item data
                        for (const key in data) {
                            if (modelForm.elements[key]) {
                                modelForm.elements[key].value = data[key];
                            }
                        }
                        
                        submitBtn.textContent = 'Update Model';
                        openFormCard();
                    }
                } else if (card) {
                    showDetailsModal(card);
                }
            });

            closeDetailsBtn.addEventListener('click', hideDetailsModal);
            detailsModal.addEventListener('click', (event) => {
                if (event.target === detailsModal) {
                    hideDetailsModal();
                }
            });


            // --- Date Range Selector Logic ---
            const dateRangeBtn = document.getElementById('date-range-btn');
            const dateRangeCard = document.getElementById('date-range-card');
            const dateRangeText = document.getElementById('date-range-text');
            const rangeOptions = document.querySelectorAll('.date-range-option');
            const applyBtn = document.getElementById('apply-date-range');
            const fromDateInput = document.getElementById('from-date');
            const toDateInput = document.getElementById('to-date');

            function toggleDropdown(forceClose = false) {
                if(!dateRangeCard) return;
                const isHidden = dateRangeCard.classList.contains('hidden');
                if (forceClose || !isHidden) {
                    dateRangeCard.classList.add('opacity-0', 'scale-95');
                    setTimeout(() => {
                        dateRangeCard.classList.add('hidden');
                    }, 200);
                } else {
                    dateRangeCard.classList.remove('hidden');
                    setTimeout(() => {
                        dateRangeCard.classList.remove('opacity-0', 'scale-95');
                    }, 10);
                }
            }

            if(dateRangeBtn) {
                dateRangeBtn.addEventListener('click', (event) => {
                    event.stopPropagation();
                    toggleDropdown();
                });
            }
            
            document.addEventListener('click', (event) => {
                if (dateRangeCard && !dateRangeCard.classList.contains('hidden') && !dateRangeBtn.contains(event.target) && !dateRangeCard.contains(event.target)) {
                    toggleDropdown(true);
                }
            });
            
            if(rangeOptions) {
                rangeOptions.forEach(button => {
                    button.addEventListener('click', () => {
                        dateRangeText.textContent = button.textContent;
                        rangeOptions.forEach(btn => {
                            btn.classList.remove('bg-yellow-400', 'text-white');
                            btn.classList.add('bg-gray-100', 'text-gray-700');
                        });
                        button.classList.add('bg-yellow-400', 'text-white');
                        button.classList.remove('bg-gray-100', 'text-gray-700');
                        if(fromDateInput) fromDateInput.value = '';
                        if(toDateInput) toDateInput.value = '';
                    });
                });
            }
            
            function formatDate(dateString) {
                if (!dateString) return '';
                const [year, month, day] = dateString.split('-');
                return `${day}/${month}/${year}`;
            }

            if(applyBtn){
                applyBtn.addEventListener('click', () => {
                    const fromDate = fromDateInput.value;
                    const toDate = toDateInput.value;

                    if (fromDate && toDate) {
                        dateRangeText.textContent = `${formatDate(fromDate)} - ${formatDate(toDate)}`;
                        rangeOptions.forEach(btn => {
                            btn.classList.remove('bg-yellow-400', 'text-white');
                            btn.classList.add('bg-gray-100', 'text-gray-700');
                        });
                    }
                    toggleDropdown(true);
                });
            }


            // --- Chart Logic ---
            const revenueChartCanvas = document.getElementById('revenueChart');
            if(revenueChartCanvas) {
                const ctx = revenueChartCanvas.getContext('2d');
                const chartTypeSelector = document.getElementById('chartTypeSelector');
                const chartTitle = document.getElementById('chart-title');
                let dataChart;

                const labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];
                
                const revenueDataset = {
                    label: 'Revenue',
                    data: [65000, 59000, 80000, 81000, 56000, 55000, 40000],
                    borderColor: '#FBBF24',
                    backgroundColor: 'rgba(251, 191, 36, 0.2)',
                    tension: 0.4,
                    fill: true
                };

                const profitDataset = {
                    label: 'Profit',
                    data: [12500, 19000, 13000, 15000, 12000, 11000, 9000],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    tension: 0.4,
                    fill: true
                };
                
                const chartConfig = {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [revenueDataset]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true } },
                        plugins: { legend: { display: false } },
                        animation: {
                            duration: 800,
                            easing: 'easeInOutQuart'
                        }
                    }
                };
                
                dataChart = new Chart(ctx, chartConfig);

                chartTypeSelector.addEventListener('change', function(event) {
                    const selectedValue = event.target.value;

                    if (selectedValue === 'revenue') {
                        dataChart.data.datasets = [revenueDataset];
                        chartTitle.textContent = 'Revenue';
                    } else if (selectedValue === 'profit') {
                        dataChart.data.datasets = [profitDataset];
                        chartTitle.textContent = 'Profit';
                    }
                    
                    dataChart.update();
                });

                chartTypeSelector.value = "";
            }
        });
    </script>

</body>

</html>
